{"ast":null,"code":"var _jsxFileName = \"/Users/vilhelmirintanen/IntroDS_Project/frontend/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { AnimeCard } from \"./Components/AnimeCard\";\nimport Choices from \"./Components/Choices\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API_BASE || \"\"; // <-- CRA style\n\nfunction App() {\n  _s();\n\n  const [recommendations, setRecommendations] = useState([]);\n  const colors = [\"bg-red-200\", \"bg-blue-200\", \"bg-gray-200\", \"bg-amber-200\", \"bg-lime-500\", \"bg-teal-300\", \"bg-violet-300\", \"bg-fuchsia-200\", \"bg-indigo-100\", \"bg-sky-200\", \"bg-emerald-100\"];\n\n  const getRecommendations = async (genres, description) => {\n    try {\n      const payload = {\n        genres,\n        description\n      }; // if API_BASE is \"\", this becomes \"/recommendations\"\n\n      const url = API_BASE !== \"\" ? `${API_BASE}/recommendations` : \"/recommendations\";\n      const res = await axios.post(url, payload);\n      setRecommendations(res.data);\n    } catch (e) {\n      console.error(e);\n      setRecommendations([]);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App flex flex-col mb-2 gap-2\",\n      children: /*#__PURE__*/_jsxDEV(Choices, {\n        getRecommendations: getRecommendations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4 mx-4\",\n      children: recommendations.map(anime => {\n        var _anime$id;\n\n        return /*#__PURE__*/_jsxDEV(AnimeCard, {\n          description: anime.description,\n          id: anime.id,\n          title: anime.title,\n          averageScore: anime.averageScore,\n          coverImage: anime.coverImage,\n          col: colors[Math.floor(Math.random() * colors.length)],\n          siteUrl: anime.siteUrl\n        }, (_anime$id = anime.id) !== null && _anime$id !== void 0 ? _anime$id : anime.title, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"lZam4mchXM3IVSCDofmT1kt1xK4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["axios","React","useState","AnimeCard","Choices","API_BASE","process","env","REACT_APP_API_BASE","App","recommendations","setRecommendations","colors","getRecommendations","genres","description","payload","url","res","post","data","e","console","error","map","anime","id","title","averageScore","coverImage","Math","floor","random","length","siteUrl"],"sources":["/Users/vilhelmirintanen/IntroDS_Project/frontend/src/App.tsx"],"sourcesContent":["import axios from \"axios\"\nimport React, { useState } from \"react\"\nimport { AnimeCard } from \"./Components/AnimeCard\"\nimport Choices from \"./Components/Choices\"\nimport { bAnimeCard } from \"./types\"\n\nconst API_BASE = process.env.REACT_APP_API_BASE || \"\" // <-- CRA style\n\nfunction App() {\n  const [recommendations, setRecommendations] = useState<bAnimeCard[]>([])\n  const colors = [\n    \"bg-red-200\",\n    \"bg-blue-200\",\n    \"bg-gray-200\",\n    \"bg-amber-200\",\n    \"bg-lime-500\",\n    \"bg-teal-300\",\n    \"bg-violet-300\",\n    \"bg-fuchsia-200\",\n    \"bg-indigo-100\",\n    \"bg-sky-200\",\n    \"bg-emerald-100\",\n  ]\n\n  const getRecommendations = async (\n    genres: string,\n    description: string | undefined\n  ) => {\n    try {\n      const payload = { genres, description }\n\n      // if API_BASE is \"\", this becomes \"/recommendations\"\n      const url =\n        API_BASE !== \"\"\n          ? `${API_BASE}/recommendations`\n          : \"/recommendations\"\n\n      const res = await axios.post(url, payload)\n      setRecommendations(res.data)\n    } catch (e) {\n      console.error(e)\n      setRecommendations([])\n    }\n  }\n\n  return (\n    <div className=\"mb-3\">\n      <div className=\"App flex flex-col mb-2 gap-2\">\n        <Choices getRecommendations={getRecommendations} />\n      </div>\n      <div className=\"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4 mx-4\">\n        {recommendations.map((anime) => (\n          <AnimeCard\n            key={anime.id ?? anime.title}\n            description={anime.description}\n            id={anime.id}\n            title={anime.title}\n            averageScore={anime.averageScore}\n            coverImage={anime.coverImage}\n            col={colors[Math.floor(Math.random() * colors.length)]}\n            siteUrl={anime.siteUrl}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default App\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,OAAOC,OAAP,MAAoB,sBAApB;;AAGA,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,kBAAZ,IAAkC,EAAnD,C,CAAsD;;AAEtD,SAASC,GAAT,GAAe;EAAA;;EACb,MAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCT,QAAQ,CAAe,EAAf,CAAtD;EACA,MAAMU,MAAM,GAAG,CACb,YADa,EAEb,aAFa,EAGb,aAHa,EAIb,cAJa,EAKb,aALa,EAMb,aANa,EAOb,eAPa,EAQb,gBARa,EASb,eATa,EAUb,YAVa,EAWb,gBAXa,CAAf;;EAcA,MAAMC,kBAAkB,GAAG,OACzBC,MADyB,EAEzBC,WAFyB,KAGtB;IACH,IAAI;MACF,MAAMC,OAAO,GAAG;QAAEF,MAAF;QAAUC;MAAV,CAAhB,CADE,CAGF;;MACA,MAAME,GAAG,GACPZ,QAAQ,KAAK,EAAb,GACK,GAAEA,QAAS,kBADhB,GAEI,kBAHN;MAKA,MAAMa,GAAG,GAAG,MAAMlB,KAAK,CAACmB,IAAN,CAAWF,GAAX,EAAgBD,OAAhB,CAAlB;MACAL,kBAAkB,CAACO,GAAG,CAACE,IAAL,CAAlB;IACD,CAXD,CAWE,OAAOC,CAAP,EAAU;MACVC,OAAO,CAACC,KAAR,CAAcF,CAAd;MACAV,kBAAkB,CAAC,EAAD,CAAlB;IACD;EACF,CAnBD;;EAqBA,oBACE;IAAK,SAAS,EAAC,MAAf;IAAA,wBACE;MAAK,SAAS,EAAC,8BAAf;MAAA,uBACE,QAAC,OAAD;QAAS,kBAAkB,EAAEE;MAA7B;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAIE;MAAK,SAAS,EAAC,0EAAf;MAAA,UACGH,eAAe,CAACc,GAAhB,CAAqBC,KAAD;QAAA;;QAAA,oBACnB,QAAC,SAAD;UAEE,WAAW,EAAEA,KAAK,CAACV,WAFrB;UAGE,EAAE,EAAEU,KAAK,CAACC,EAHZ;UAIE,KAAK,EAAED,KAAK,CAACE,KAJf;UAKE,YAAY,EAAEF,KAAK,CAACG,YALtB;UAME,UAAU,EAAEH,KAAK,CAACI,UANpB;UAOE,GAAG,EAAEjB,MAAM,CAACkB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBpB,MAAM,CAACqB,MAAlC,CAAD,CAPb;UAQE,OAAO,EAAER,KAAK,CAACS;QARjB,gBACOT,KAAK,CAACC,EADb,iDACmBD,KAAK,CAACE,KADzB;UAAA;UAAA;UAAA;QAAA,QADmB;MAAA,CAApB;IADH;MAAA;MAAA;MAAA;IAAA,QAJF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAqBD;;GA1DQlB,G;;KAAAA,G;AA4DT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}