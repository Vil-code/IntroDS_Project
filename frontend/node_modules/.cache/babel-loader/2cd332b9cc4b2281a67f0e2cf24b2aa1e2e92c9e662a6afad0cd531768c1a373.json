{"ast":null,"code":"var _jsxFileName = \"/Users/vilhelmirintanen/IntroDS_Project/frontend/src/Components/Choices.tsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport AnimeCardMain from \"./AnimeCardMain\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Choices = ({\n  getRecommendations\n}) => {\n  _s();\n  const [genres, setGenres] = useState(\"Action\");\n  const [compareAnime, setCompareAnime] = useState(\"\");\n  const [likeAnime, setLikeAnime] = useState();\n  const findAnime = async (animeName, event) => {\n    try {\n      event.preventDefault();\n      const request = await axios.post(\"/anime\", animeName);\n      setLikeAnime(request.data);\n    } catch (e) {\n      console.error(\"Failed to find anime:\", e);\n    }\n  };\n  const genreChoices = [{\n    label: \"Action\"\n  }, {\n    label: \"Comedy\"\n  }, {\n    label: \"Romance\"\n  }, {\n    label: \"Sports\"\n  }, {\n    label: \"Slice of Life\"\n  }, {\n    label: \"Sci-fi\"\n  }, {\n    label: \"Drama\"\n  }, {\n    label: \"Music\"\n  }, {\n    label: \"Fantasy\"\n  }];\n  const handleRecommend = () => {\n    var _likeAnime$descriptio;\n    const desc = (_likeAnime$descriptio = likeAnime === null || likeAnime === void 0 ? void 0 : likeAnime.description) !== null && _likeAnime$descriptio !== void 0 ? _likeAnime$descriptio : \"\";\n    getRecommendations(genres, desc);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mx-4 mt-5 mb-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Enter any Anime/Manga you like, e.g. Steins Gate\",\n        className: \"p-2 w-full border-solid border-2 border-indigo-600 rounded\",\n        value: compareAnime,\n        onChange: e => setCompareAnime(e.target.value),\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), compareAnime !== \"\" && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => findAnime(compareAnime, e),\n        className: \"p-1 w-full bg-violet-300 rounded hover:opacity-80 mt-2\",\n        children: \"Find anime\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center bg-gray\",\n      children: likeAnime && /*#__PURE__*/_jsxDEV(AnimeCardMain, {\n        description: likeAnime.description,\n        id: likeAnime.id,\n        title: likeAnime.title,\n        averageScore: likeAnime.averageScore,\n        coverImage: likeAnime.coverImage,\n        col: \"bg-slate-200\",\n        siteUrl: likeAnime.siteUrl\n      }, likeAnime.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), likeAnime && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"cursor-pointer p-2 rounded mx-4 mt-2 bg-red-200 text-center hover:opacity-80 w-full\",\n        name: \"genre-setter\",\n        onChange: e => setGenres(e.target.value),\n        value: genres,\n        children: genreChoices.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: option.label,\n          children: option.label\n        }, option.label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRecommend,\n        className: \"w-full mx-4 mb-1 mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-2 rounded bg-yellow-300 hover:opacity-70 text-center\",\n          children: \"Recommend me!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n};\n_s(Choices, \"gCHiw8k0dv3urXSsdoyrG0l7UJY=\");\n_c = Choices;\nexport default Choices;\nvar _c;\n$RefreshReg$(_c, \"Choices\");","map":{"version":3,"names":["axios","React","useState","AnimeCardMain","jsxDEV","_jsxDEV","Fragment","_Fragment","Choices","getRecommendations","_s","genres","setGenres","compareAnime","setCompareAnime","likeAnime","setLikeAnime","findAnime","animeName","event","preventDefault","request","post","data","e","console","error","genreChoices","label","handleRecommend","_likeAnime$descriptio","desc","description","children","className","placeholder","value","onChange","target","type","fileName","_jsxFileName","lineNumber","columnNumber","onClick","id","title","averageScore","coverImage","col","siteUrl","name","map","option","_c","$RefreshReg$"],"sources":["/Users/vilhelmirintanen/IntroDS_Project/frontend/src/Components/Choices.tsx"],"sourcesContent":["import axios from \"axios\"\nimport React, { useState } from \"react\"\nimport { anime, genre, Props } from \"../types\"\nimport AnimeCardMain from \"./AnimeCardMain\"\n\nconst Choices = ({ getRecommendations }: Props) => {\n  const [genres, setGenres] = useState<string>(\"Action\")\n  const [compareAnime, setCompareAnime] = useState<string>(\"\")\n  const [likeAnime, setLikeAnime] = useState<anime>()\n\n  const findAnime = async (\n    animeName: string,\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    try {\n      event.preventDefault()\n      const request = await axios.post(\"/anime\", animeName)\n      setLikeAnime(request.data)\n    } catch (e) {\n      console.error(\"Failed to find anime:\", e)\n    }\n  }\n\n  const genreChoices: genre[] = [\n    { label: \"Action\" },\n    { label: \"Comedy\" },\n    { label: \"Romance\" },\n    { label: \"Sports\" },\n    { label: \"Slice of Life\" },\n    { label: \"Sci-fi\" },\n    { label: \"Drama\" },\n    { label: \"Music\" },\n    { label: \"Fantasy\" },\n  ]\n\n  const handleRecommend = () => {\n    const desc = likeAnime?.description ?? \"\"\n    getRecommendations(genres, desc)\n  }\n\n  return (\n    <>\n      {/* Search input */}\n      <form className=\"mx-4 mt-5 mb-1\">\n        <input\n          placeholder=\"Enter any Anime/Manga you like, e.g. Steins Gate\"\n          className=\"p-2 w-full border-solid border-2 border-indigo-600 rounded\"\n          value={compareAnime}\n          onChange={(e) => setCompareAnime(e.target.value)}\n          type=\"text\"\n        />\n\n        {compareAnime !== \"\" && (\n          <button\n            onClick={(e) => findAnime(compareAnime, e)}\n            className=\"p-1 w-full bg-violet-300 rounded hover:opacity-80 mt-2\"\n          >\n            Find anime\n          </button>\n        )}\n      </form>\n\n      {/* Display selected anime */}\n      <div className=\"flex justify-center bg-gray\">\n        {likeAnime && (\n          <AnimeCardMain\n            description={likeAnime.description}\n            key={likeAnime.id}\n            id={likeAnime.id}\n            title={likeAnime.title}\n            averageScore={likeAnime.averageScore}\n            coverImage={likeAnime.coverImage}\n            col=\"bg-slate-200\"\n            siteUrl={likeAnime.siteUrl}\n          />\n        )}\n      </div>\n\n      {/* Genre select and recommend button */}\n      {likeAnime && (\n        <>\n          <select\n            className=\"cursor-pointer p-2 rounded mx-4 mt-2 bg-red-200 text-center hover:opacity-80 w-full\"\n            name=\"genre-setter\"\n            onChange={(e) => setGenres(e.target.value)}\n            value={genres}\n          >\n            {genreChoices.map((option) => (\n              <option key={option.label} value={option.label}>\n                {option.label}\n              </option>\n            ))}\n          </select>\n\n          <button\n            onClick={handleRecommend}\n            className=\"w-full mx-4 mb-1 mt-2\"\n          >\n            <div className=\"p-2 rounded bg-yellow-300 hover:opacity-70 text-center\">\n              Recommend me!\n            </div>\n          </button>\n        </>\n      )}\n    </>\n  )\n}\n\nexport default Choices\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}