{"ast":null,"code":"var _jsxFileName = \"/Users/vilhelmirintanen/IntroDS_Project/frontend/src/Components/Choices.tsx\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport AnimeCardMain from \"./AnimeCardMain\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Choices = ({\n  getRecommendations\n}) => {\n  _s();\n  var _likeAnime$id;\n  const [genres, setGenres] = useState(\"Action\");\n  const [compareAnime, setCompareAnime] = useState(\"\");\n  const [likeAnime, setLikeAnime] = useState(undefined);\n  const findAnime = async (animeName, event) => {\n    try {\n      event.preventDefault();\n      const res = await axios.post(\"/anime\", animeName);\n      setLikeAnime(res.data);\n    } catch (e) {\n      console.error(\"Failed to find anime:\", e);\n    }\n  };\n  const genreChoices = [{\n    label: \"Action\"\n  }, {\n    label: \"Comedy\"\n  }, {\n    label: \"Romance\"\n  }, {\n    label: \"Sports\"\n  }, {\n    label: \"Slice of Life\"\n  }, {\n    label: \"Sci-fi\"\n  }, {\n    label: \"Drama\"\n  }, {\n    label: \"Music\"\n  }, {\n    label: \"Fantasy\"\n  }];\n  const handleRecommend = () => {\n    var _likeAnime$descriptio;\n    const desc = (_likeAnime$descriptio = likeAnime === null || likeAnime === void 0 ? void 0 : likeAnime.description) !== null && _likeAnime$descriptio !== void 0 ? _likeAnime$descriptio : \"\";\n    getRecommendations(genres, desc);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mx-4 mt-5 mb-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Enter any Anime/Manga you like, e.g. Steins Gate\",\n        className: \"p-2 w-full border-solid border-2 border-indigo-600 rounded\",\n        value: compareAnime,\n        onChange: e => setCompareAnime(e.target.value),\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), compareAnime !== \"\" && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => findAnime(compareAnime, e),\n        className: \"p-1 w-full bg-violet-300 rounded hover:opacity-80 mt-2\",\n        children: \"Find anime\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center bg-gray\",\n      children: likeAnime && /*#__PURE__*/_jsxDEV(AnimeCardMain, {\n        id: likeAnime.id,\n        title: likeAnime.title,\n        description: likeAnime.description,\n        averageScore: likeAnime.averageScore,\n        coverImage: likeAnime.coverImage,\n        siteUrl: likeAnime.siteUrl,\n        genres: likeAnime.genres,\n        col: \"bg-slate-200\"\n      }, (_likeAnime$id = likeAnime.id) !== null && _likeAnime$id !== void 0 ? _likeAnime$id : likeAnime.title.romaji, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), likeAnime && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"cursor-pointer p-2 rounded mt-2 bg-red-200 text-center hover:opacity-80 w-full\",\n        name: \"genre-setter\",\n        value: genres,\n        onChange: e => setGenres(e.target.value),\n        children: genreChoices.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: option.label,\n          children: option.label\n        }, option.label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRecommend,\n        className: \"w-full mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-2 rounded bg-yellow-300 hover:opacity-70 text-center\",\n          children: \"Recommend me!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Choices, \"jQWebvGt85E540vAjD3ahDniTOY=\");\n_c = Choices;\nexport default Choices;\nvar _c;\n$RefreshReg$(_c, \"Choices\");","map":{"version":3,"names":["axios","React","useState","AnimeCardMain","jsxDEV","_jsxDEV","Fragment","_Fragment","Choices","getRecommendations","_s","_likeAnime$id","genres","setGenres","compareAnime","setCompareAnime","likeAnime","setLikeAnime","undefined","findAnime","animeName","event","preventDefault","res","post","data","e","console","error","genreChoices","label","handleRecommend","_likeAnime$descriptio","desc","description","children","className","placeholder","value","onChange","target","type","fileName","_jsxFileName","lineNumber","columnNumber","onClick","id","title","averageScore","coverImage","siteUrl","col","romaji","name","map","option","_c","$RefreshReg$"],"sources":["/Users/vilhelmirintanen/IntroDS_Project/frontend/src/Components/Choices.tsx"],"sourcesContent":["import axios from \"axios\"\nimport React, { useState } from \"react\"\nimport { BackendAnime, GenreOption, ChoicesProps } from \"../types\"\nimport AnimeCardMain from \"./AnimeCardMain\"\n\nconst Choices: React.FC<ChoicesProps> = ({ getRecommendations }) => {\n  const [genres, setGenres] = useState<string>(\"Action\")\n  const [compareAnime, setCompareAnime] = useState<string>(\"\")\n  const [likeAnime, setLikeAnime] = useState<BackendAnime | undefined>(undefined)\n\n  const findAnime = async (\n    animeName: string,\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    try {\n      event.preventDefault()\n      const res = await axios.post(\"/anime\", animeName)\n      setLikeAnime(res.data)\n    } catch (e) {\n      console.error(\"Failed to find anime:\", e)\n    }\n  }\n\n  const genreChoices: GenreOption[] = [\n    { label: \"Action\" },\n    { label: \"Comedy\" },\n    { label: \"Romance\" },\n    { label: \"Sports\" },\n    { label: \"Slice of Life\" },\n    { label: \"Sci-fi\" },\n    { label: \"Drama\" },\n    { label: \"Music\" },\n    { label: \"Fantasy\" },\n  ]\n\n  const handleRecommend = () => {\n    const desc = likeAnime?.description ?? \"\"\n    getRecommendations(genres, desc)\n  }\n\n  return (\n    <>\n      {/* --- Search input --- */}\n      <form className=\"mx-4 mt-5 mb-1\">\n        <input\n          placeholder=\"Enter any Anime/Manga you like, e.g. Steins Gate\"\n          className=\"p-2 w-full border-solid border-2 border-indigo-600 rounded\"\n          value={compareAnime}\n          onChange={(e) => setCompareAnime(e.target.value)}\n          type=\"text\"\n        />\n\n        {compareAnime !== \"\" && (\n          <button\n            onClick={(e) => findAnime(compareAnime, e)}\n            className=\"p-1 w-full bg-violet-300 rounded hover:opacity-80 mt-2\"\n          >\n            Find anime\n          </button>\n        )}\n      </form>\n\n      {/* --- Selected anime preview --- */}\n      <div className=\"flex justify-center bg-gray\">\n        {likeAnime && (\n          <AnimeCardMain\n            key={likeAnime.id ?? likeAnime.title.romaji}\n            id={likeAnime.id}\n            title={likeAnime.title}\n            description={likeAnime.description}\n            averageScore={likeAnime.averageScore}\n            coverImage={likeAnime.coverImage}\n            siteUrl={likeAnime.siteUrl}\n            genres={likeAnime.genres}\n            col=\"bg-slate-200\"\n          />\n        )}\n      </div>\n\n      {/* --- Genre + Recommend --- */}\n      {likeAnime && (\n        <div className=\"mx-4\">\n          <select\n            className=\"cursor-pointer p-2 rounded mt-2 bg-red-200 text-center hover:opacity-80 w-full\"\n            name=\"genre-setter\"\n            value={genres}\n            onChange={(e) => setGenres(e.target.value)}\n          >\n            {genreChoices.map((option) => (\n              <option key={option.label} value={option.label}>\n                {option.label}\n              </option>\n            ))}\n          </select>\n\n          <button onClick={handleRecommend} className=\"w-full mt-2\">\n            <div className=\"p-2 rounded bg-yellow-300 hover:opacity-70 text-center\">\n              Recommend me!\n            </div>\n          </button>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Choices\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}